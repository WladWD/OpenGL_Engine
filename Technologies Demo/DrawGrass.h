#include "ShaderGrass.h"
#include "LoadModel.h"
#include "MCamera.h"
#include "AtmosphereParameter.h"

#pragma once
namespace Atmosphere
{
	class DrawGrass
	{
		/////////////////////////////////////////////////////////////
		glm::mat4 world_matrix;
		/////////////////////////////////////////////////////////////
		Resource::MapResource *texture_map;
		/////////////////////////////////////////////////////////////
		GLuint grass_diffuse;
		GLuint grass_normal;
		/////////////////////////////////////////////////////////////
		GLuint grass_diffuse_id;
		GLuint grass_normal_id;
		/////////////////////////////////////////////////////////////
		GLuint QUAD_VAO, QUAD_VB;
		GLuint QUAD_IB;
		/////////////////////////////////////////////////////////////
		MCamera::Camera *camera;
		/////////////////////////////////////////////////////////////
		Shader::ShaderGrass *shader_grass;
		/////////////////////////////////////////////////////////////
		void GenerateQuad(void);
		void InitShaderVariable(void);
		/////////////////////////////////////////////////////////////
	public:
		DrawGrass(MCamera::Camera *camera, Resource::MapResource *texture_map);
		~DrawGrass();
		/////////////////////////////////////////////////////////////
		void Draw(const Atmosphere::GlobalLightingParam *atmosphere_parameter);
	};
}

